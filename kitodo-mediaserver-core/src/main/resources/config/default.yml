################################################################
#
# This is the default configuration file of Kitodo Mediaserver
#
# DO NOT MAKE ANY LOCAL CHANGES TO THIS FILE!
#
# You can override all configurations in this file in local.yml
#
#################################################################

spring:
  datasource:
    url: jdbc:mysql://localhost/mediaserver?autoReconnect=true&useSSL=false
    username: kitodo
    password: kitodo
  jpa:
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL57Dialect
  main:
    banner-mode: "off"

logging:
  level:
    org.springframework: WARN
    com.zaxxer.hikari: WARN
    org.hibernate: WARN
    org.kitodo: INFO
  pattern:
    console:
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger - %msg%n"
  path: /usr/local/kitodo/mediaserver/

fileserver:
  rootUrl: https://example.com/files/
  filePathPattern: /files/{workId}/**
  caching: false
  cachePath: /tmp
  masterFileReaderXsl: xslt/masterFileFromMets.xsl
  cacheClearCron: "0 3 * * * *"
  cacheClearSince: 2592000 # 30 days

conversion:
  jpeg:
    defaultSize: 1000
  useGraphicsMagick: false
  pathExtractionPatterns:
    - .*/jpeg/(max|min|thumb|default)/.*
    - .*/jpeg/(150|600|1000|2000)/.*

  watermark:
    enabled: true
    minSize: 600
    renderMode: text
    gravity: "southwest"
    offsetX: 25
    offsetY: 0
    textMode:
      content: "Example Text"
      font: "Arial"
      colorRGB: "34,65,255"
      size: 16
    imageMode:
      path: /srv/kitodo/assets/watermark.png
      opacity: 75
    extendCanvas:
      enabled: true
      backgroundColorRGB: "0,0,0"
      addX: 0
      addY: 25

mets:
  originalFileGrpSuffix: ORIGINAL
  workLockReduceMetsXsl: xslt/reduceMets.xsl

indexing:
  indexScriptUrl: https://example.com/indexWork.php
  indexScriptMetsUrlArgName: doc


importer:
  hotfolderPath: /usr/local/kitodo/mediaserver/hotfolder/
  importingFolderPath: /usr/local/kitodo/mediaserver/importing/
  tempWorkFolderPath: /usr/local/kitodo/mediaserver/import_temp/
  errorFolderPath: /usr/local/kitodo/mediaserver/import_error/
  workFilesPath: /usr/local/kitodo/mediaserver/files/
  workDataReaderXsl: xslt/getWorkData.xsl
  fileUrlReaderXsl: xslt/getPathsFromGivenFileGrp.xsl
  workIdRegex: "[\\w-]+"
  cron: 0 5 2 * * *
  indexWorkAfterImport: true
  validationFileGrps:
  - ORIGINAL


ui:
  pagination:
    elementsPerPage:

      # Number of elements shown on a page
      #defaultValue: 20

      # Number of elements that are available in the dropdown field
      availableValues:
      - 5
      - 10
      - 20
      - 50
      - 100
      - 200

  works:

    # Which data base fields are searchable by "field:pattern" in the UI's search field
    searchableFields:
      - id
      - title
      - enabled
      - hostId
      - collection

    # When disabling a work wether to reduce the METS/MODS file. Default value
    reduceMets: true
